{"ast":null,"code":"import axios from 'axios';\nexport const AddtoCartHelper = (widObj, storeData) => {\n  return new Promise((res, rej) => {\n    axios.patch(\"http://localhost:5000/user/addtocart\", {\n      \"details\": {\n        \"id\": widObj.id,\n        \"subs_type\": \"hits\",\n        \"hits_count\": 4000,\n        \"days_count\": 0,\n        \"price\": 3000\n      },\n      \"widget\": JSON.parse(JSON.stringify(widObj)),\n      \"username\": storeData.user.userDetails.username\n    }).then(x => {\n      console.log(\"added\", x.data);\n      res(x.data);\n    });\n  });\n};\n_c = AddtoCartHelper;\nexport const getAllWidgets = () => {\n  return new Promise((resolve, rej) => {\n    axios.get(\"http://localhost:5000/products\").then(x => {\n      resolve(x.data);\n    });\n  });\n};\nexport const subsStatement = details => {\n  let str = \"\";\n\n  if ((details === null || details === void 0 ? void 0 : details.subs_type) == \"hits\") {\n    str = \"Subscription for \" + (details === null || details === void 0 ? void 0 : details.hits_count) + \" hits\";\n  } else {\n    str = \"Subscription for \" + (details === null || details === void 0 ? void 0 : details.days_count) + \" days\";\n  }\n\n  return str;\n}; // const populateCart2 = () => {\n//     let arr:any = [];\n//     let dbArr = setReduxUser();\n//     if(dbArr?.length > 0){\n//         dbArr.map((wid:any) => {\n//             getAllWidgets().then((aw:any) => {\n//                 let obj = aw.filter((x:any) => x.id == wid.id)[0];\n//                 arr.push(obj);\n//             });\n//         })\n//         setWidgitArr(arr);\n//     }\n//     else{\n//         setCartEmptyMsg(\"Cart is empty !\")\n//     }\n//     console.log(arr)\n// }\n\nvar _c;\n\n$RefreshReg$(_c, \"AddtoCartHelper\");","map":{"version":3,"names":["axios","AddtoCartHelper","widObj","storeData","Promise","res","rej","patch","id","JSON","parse","stringify","user","userDetails","username","then","x","console","log","data","getAllWidgets","resolve","get","subsStatement","details","str","subs_type","hits_count","days_count"],"sources":["D:/gaurav/engame2/my-app/src/Utils/cartFunctions.tsx"],"sourcesContent":["import { setUserDetails } from '../redux/UserRedux/userAction';\r\nimport store from '../redux/store';\r\nimport { useSnackbar } from 'notistack';\r\nimport axios from 'axios';\r\n\r\nexport const AddtoCartHelper = (widObj:any, storeData:any) => {\r\n    return new Promise((res,rej) => {\r\n        axios.patch(\"http://localhost:5000/user/addtocart\", \r\n            {\r\n                \"details\": {\r\n                    \"id\": widObj.id,\r\n                    \"subs_type\": \"hits\",\r\n                    \"hits_count\": 4000,\r\n                    \"days_count\": 0,\r\n                    \"price\": 3000\r\n                },\r\n                \"widget\": JSON.parse(JSON.stringify(widObj)),\r\n                \"username\": storeData.user.userDetails.username\r\n            }\r\n        )\r\n        .then((x:any) => {\r\n            console.log(\"added\", x.data)\r\n            res(x.data);\r\n        })\r\n    })\r\n};\r\n\r\nexport const getAllWidgets = () => {\r\n    return new Promise((resolve:any,rej:any) => {\r\n        axios.get(\"http://localhost:5000/products\")\r\n        .then(x => {\r\n            resolve(x.data);\r\n        });\r\n    })\r\n}\r\n\r\nexport const subsStatement = (details:any) => {\r\n    let str:string = \"\"\r\n    if(details?.subs_type == \"hits\"){\r\n        str = \"Subscription for \" + details?.hits_count + \" hits\";\r\n    }\r\n    else{\r\n        str = \"Subscription for \" + details?.days_count + \" days\";\r\n    }\r\n    return str;\r\n}\r\n\r\n// const populateCart2 = () => {\r\n//     let arr:any = [];\r\n//     let dbArr = setReduxUser();\r\n//     if(dbArr?.length > 0){\r\n//         dbArr.map((wid:any) => {\r\n//             getAllWidgets().then((aw:any) => {\r\n//                 let obj = aw.filter((x:any) => x.id == wid.id)[0];\r\n//                 arr.push(obj);\r\n//             });\r\n//         })\r\n//         setWidgitArr(arr);\r\n//     }\r\n//     else{\r\n//         setCartEmptyMsg(\"Cart is empty !\")\r\n//     }\r\n//     console.log(arr)\r\n// }"],"mappings":"AAGA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,eAAe,GAAG,CAACC,MAAD,EAAaC,SAAb,KAA+B;EAC1D,OAAO,IAAIC,OAAJ,CAAY,CAACC,GAAD,EAAKC,GAAL,KAAa;IAC5BN,KAAK,CAACO,KAAN,CAAY,sCAAZ,EACI;MACI,WAAW;QACP,MAAML,MAAM,CAACM,EADN;QAEP,aAAa,MAFN;QAGP,cAAc,IAHP;QAIP,cAAc,CAJP;QAKP,SAAS;MALF,CADf;MAQI,UAAUC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeT,MAAf,CAAX,CARd;MASI,YAAYC,SAAS,CAACS,IAAV,CAAeC,WAAf,CAA2BC;IAT3C,CADJ,EAaCC,IAbD,CAaOC,CAAD,IAAW;MACbC,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBF,CAAC,CAACG,IAAvB;MACAd,GAAG,CAACW,CAAC,CAACG,IAAH,CAAH;IACH,CAhBD;EAiBH,CAlBM,CAAP;AAmBH,CApBM;KAAMlB,e;AAsBb,OAAO,MAAMmB,aAAa,GAAG,MAAM;EAC/B,OAAO,IAAIhB,OAAJ,CAAY,CAACiB,OAAD,EAAaf,GAAb,KAAyB;IACxCN,KAAK,CAACsB,GAAN,CAAU,gCAAV,EACCP,IADD,CACMC,CAAC,IAAI;MACPK,OAAO,CAACL,CAAC,CAACG,IAAH,CAAP;IACH,CAHD;EAIH,CALM,CAAP;AAMH,CAPM;AASP,OAAO,MAAMI,aAAa,GAAIC,OAAD,IAAiB;EAC1C,IAAIC,GAAU,GAAG,EAAjB;;EACA,IAAG,CAAAD,OAAO,SAAP,IAAAA,OAAO,WAAP,YAAAA,OAAO,CAAEE,SAAT,KAAsB,MAAzB,EAAgC;IAC5BD,GAAG,GAAG,uBAAsBD,OAAtB,aAAsBA,OAAtB,uBAAsBA,OAAO,CAAEG,UAA/B,IAA4C,OAAlD;EACH,CAFD,MAGI;IACAF,GAAG,GAAG,uBAAsBD,OAAtB,aAAsBA,OAAtB,uBAAsBA,OAAO,CAAEI,UAA/B,IAA4C,OAAlD;EACH;;EACD,OAAOH,GAAP;AACH,CATM,C,CAWP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}