{"ast":null,"code":"var _jsxFileName = \"D:\\\\gaurav\\\\engame2\\\\my-app\\\\src\\\\Pages\\\\Layout\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { Route, Routes, useNavigate } from 'react-router-dom';\nimport CardsContainer from '../../Components/CardsContainer';\nimport TopNav from '../../Components/TopNavBar';\nimport CartPage from '../CartPage';\nimport { SnackbarProvider } from 'notistack';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { setUserDetails } from '../../redux/UserRedux/userAction';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Layout() {\n  _s();\n\n  const dispatch = useDispatch();\n  let navigate = useNavigate();\n  const checkLogin = useSelector(data => data.user.isLoggedIn);\n  const auth = localStorage.getItem(\"auth\");\n  useEffect(() => {\n    console.log(\"data\");\n    let authObj = JSON.parse(auth);\n\n    if (authObj.isLogin == \"true\") {\n      axios.get(\"http://localhost:5000/user/\" + authObj.username).then(user => {\n        var _data$purchasedwidget, _data$cartwidgets;\n\n        let data = user.data;\n        let details = {\n          isLoggedIn: true,\n          loginErrMsg: \"\",\n          username: data === null || data === void 0 ? void 0 : data.username,\n          firstname: data === null || data === void 0 ? void 0 : data.firstname,\n          lastname: data === null || data === void 0 ? void 0 : data.lastname,\n          accessToken: data === null || data === void 0 ? void 0 : data.accessToken,\n          purchasedWidgets: data === null || data === void 0 ? void 0 : (_data$purchasedwidget = data.purchasedwidgets) === null || _data$purchasedwidget === void 0 ? void 0 : _data$purchasedwidget.slice(),\n          cartWidgets: data === null || data === void 0 ? void 0 : (_data$cartwidgets = data.cartwidgets) === null || _data$cartwidgets === void 0 ? void 0 : _data$cartwidgets.slice()\n        };\n        dispatch(setUserDetails(details));\n        console.log(\"data\");\n      });\n    }\n  }, []);\n  const ab = {\n    isLoggedIn: false,\n    username: \"gaurav\",\n    firstname: \"gg\",\n    lastname: \"ss\",\n    purchasedWidgets: [],\n    cartWidgets: []\n  };\n  useEffect(() => {// ApiRequest(\"user/login\", \"POST\", {\n    //   \"username\" : \"gaurav\",\n    //   \"password\": \"hi\"\n    // })\n    // .then(x => console.log(x))\n  }, []); // useEffect(() => {\n  //   if(checkLogin == false){\n  //     navigate(\"/login\");\n  //   }\n  // },[checkLogin])\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(SnackbarProvider, {\n      maxSnack: 3,\n      autoHideDuration: 3000,\n      children: [/*#__PURE__*/_jsxDEV(TopNav, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(CardsContainer, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 40\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"cart\",\n          element: /*#__PURE__*/_jsxDEV(CartPage, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 43\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(Layout, \"nAk0op27EknYrw0t6KEoeGdZHvE=\", false, function () {\n  return [useDispatch, useNavigate, useSelector];\n});\n\n_c = Layout;\nexport default Layout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Layout\");","map":{"version":3,"names":["React","useEffect","Route","Routes","useNavigate","CardsContainer","TopNav","CartPage","SnackbarProvider","useDispatch","useSelector","setUserDetails","axios","Layout","dispatch","navigate","checkLogin","data","user","isLoggedIn","auth","localStorage","getItem","console","log","authObj","JSON","parse","isLogin","get","username","then","details","loginErrMsg","firstname","lastname","accessToken","purchasedWidgets","purchasedwidgets","slice","cartWidgets","cartwidgets","ab"],"sources":["D:/gaurav/engame2/my-app/src/Pages/Layout/index.tsx"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport { Route, Routes, useNavigate } from 'react-router-dom';\r\nimport CardsContainer from '../../Components/CardsContainer';\r\nimport TopNav from '../../Components/TopNavBar';\r\nimport CartPage from '../CartPage';\r\nimport { SnackbarProvider, VariantType, useSnackbar } from 'notistack';\r\nimport { ApiRequest } from '../../Utils/helperFunctions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setReduxUser } from '../../Utils/userFunctions';\r\nimport { setUserDetails } from '../../redux/UserRedux/userAction';\r\nimport axios from 'axios';\r\n\r\nfunction Layout() {\r\n\r\n  const dispatch = useDispatch();\r\n  let navigate = useNavigate();\r\n  const checkLogin = useSelector((data:any) => data.user.isLoggedIn);\r\n\r\n  const auth:any = (localStorage.getItem(\"auth\"));\r\n\r\n  useEffect(() => {\r\n    console.log(\"data\")\r\n    let authObj = JSON.parse(auth)\r\n    if(authObj.isLogin == \"true\"){\r\n      axios.get(\"http://localhost:5000/user/\" + authObj.username)\r\n      .then((user:any) => {\r\n          let data = user.data;\r\n          let details = {\r\n              isLoggedIn: true,\r\n              loginErrMsg: \"\",\r\n              username: data?.username,\r\n              firstname: data?.firstname,\r\n              lastname: data?.lastname,\r\n              accessToken: data?.accessToken,\r\n              purchasedWidgets: data?.purchasedwidgets?.slice(),\r\n              cartWidgets: data?.cartwidgets?.slice()\r\n          }\r\n          dispatch(setUserDetails(details))\r\n          console.log(\"data\")\r\n      })\r\n    }\r\n  },[])\r\n\r\n  const ab = {\r\n    isLoggedIn: false,\r\n    username: \"gaurav\",\r\n    firstname: \"gg\",\r\n    lastname: \"ss\",\r\n    purchasedWidgets: [],\r\n    cartWidgets: []\r\n}\r\n\r\n  useEffect(() => {\r\n    // ApiRequest(\"user/login\", \"POST\", {\r\n    //   \"username\" : \"gaurav\",\r\n    //   \"password\": \"hi\"\r\n    // })\r\n    // .then(x => console.log(x))\r\n  \r\n  }, [])\r\n\r\n  // useEffect(() => {\r\n  //   if(checkLogin == false){\r\n  //     navigate(\"/login\");\r\n  //   }\r\n  // },[checkLogin])\r\n\r\n  return (\r\n    <>\r\n        <SnackbarProvider maxSnack={3} autoHideDuration={3000}>\r\n          <TopNav/>\r\n          <Routes>\r\n              <Route path=\"/\" element={<CardsContainer/>} />\r\n              <Route path=\"cart\" element={<CartPage/>} />\r\n          </Routes>\r\n        </SnackbarProvider>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Layout;"],"mappings":"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"},"metadata":{},"sourceType":"module"}