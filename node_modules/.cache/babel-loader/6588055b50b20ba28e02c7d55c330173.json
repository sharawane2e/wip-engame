{"ast":null,"code":"import { createReducer } from \"@reduxjs/toolkit\";\nimport { setCartWidgets, setisLoggedIn, setLoginErrMsg, setPurchasedWidgets, setUserDetails } from \"./userAction\"; // const initialState = {\n//     isLoggedIn: false,\n//     loginErrMsg: \"\",\n//     userDetails : {\n//         username: \"\",\n//         firstname: \"\",\n//         lastname: \"\",\n//     },\n//     purchasedWidgets: [],\n//     cartWidgets: [],\n// }\n\nlet LSAuth = localStorage.getItem(\"auth\");\nconst initialState = {\n  userDetails: {\n    isLoggedIn: false,\n    loginErrMsg: \"\",\n    username: JSON.parse(LSAuth).username,\n    firstname: \"\",\n    lastname: \"\",\n    accessToken: \"\",\n    purchasedWidgets: [],\n    cartWidgets: []\n  }\n};\nexport const userReducer = createReducer(initialState, builder => {\n  builder.addCase(setUserDetails, (state, action) => ({ ...state,\n    userDetails: action.payload\n  }));\n  builder.addCase(setisLoggedIn, (state, action) => ({ ...state,\n    userDetails: { ...state.userDetails,\n      isLoggedIn: action.payload\n    }\n  }));\n  builder.addCase(setLoginErrMsg, (state, action) => ({ ...state,\n    userDetails: { ...state.userDetails,\n      loginErrMsg: action.payload\n    }\n  }));\n  builder.addCase(setPurchasedWidgets, (state, action) => ({ ...state,\n    userDetails: { ...state.userDetails,\n      purchasedWidgets: action.payload\n    }\n  }));\n  builder.addCase(setCartWidgets, (state, action) => ({ ...state,\n    userDetails: { ...state.userDetails,\n      cartWidgets: action.payload\n    }\n  }));\n}); // export const userReducer = (state = { userData: initialState }, action:any) => {\n//     switch (action.type) {\n//         case \"LOGIN_SUCCESS\":\n//             return { ...state, userData: [{...state.userData}, action.payload] };\n//         case \"LOGOUT\":\n//             return { userData: action.payload };\n//         case \"SET_USERNAME\":\n//             return { userData: action.payload };\n//         default:\n//             return state;\n//     }\n// };","map":{"version":3,"names":["createReducer","setCartWidgets","setisLoggedIn","setLoginErrMsg","setPurchasedWidgets","setUserDetails","LSAuth","localStorage","getItem","initialState","userDetails","isLoggedIn","loginErrMsg","username","JSON","parse","firstname","lastname","accessToken","purchasedWidgets","cartWidgets","userReducer","builder","addCase","state","action","payload"],"sources":["D:/gaurav/engame2/my-app/src/redux/UserRedux/user-reducer.tsx"],"sourcesContent":["import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { setCartWidgets, setisLoggedIn, setLoginErrMsg, setPurchasedWidgets, setUserDetails } from \"./userAction\";\r\n\r\n// const initialState = {\r\n//     isLoggedIn: false,\r\n//     loginErrMsg: \"\",\r\n//     userDetails : {\r\n//         username: \"\",\r\n//         firstname: \"\",\r\n//         lastname: \"\",\r\n//     },\r\n//     purchasedWidgets: [],\r\n//     cartWidgets: [],\r\n// }\r\n\r\nlet LSAuth:any = localStorage.getItem(\"auth\");\r\n\r\n\r\nconst initialState = {\r\n    userDetails : {\r\n        isLoggedIn: false,\r\n        loginErrMsg: \"\",\r\n        username: JSON.parse(LSAuth).username,\r\n        firstname: \"\",\r\n        lastname: \"\",\r\n        accessToken: \"\",\r\n        purchasedWidgets: [],\r\n        cartWidgets: []\r\n    }\r\n}\r\n\r\n\r\nexport const userReducer = createReducer(initialState, (builder) => {\r\n\r\n    builder.addCase(setUserDetails, (state, action) => ({...state, userDetails : action.payload}));\r\n\r\n    builder.addCase(setisLoggedIn, (state, action) => ({...state, userDetails : {...state.userDetails, isLoggedIn : action.payload}}));\r\n\r\n    builder.addCase(setLoginErrMsg, (state, action) => ({...state, userDetails : {...state.userDetails, loginErrMsg : action.payload}}));\r\n\r\n    builder.addCase(setPurchasedWidgets, (state, action) => ({...state, userDetails : {...state.userDetails, purchasedWidgets : action.payload}}));\r\n\r\n    builder.addCase(setCartWidgets, (state, action) => ({...state, userDetails : {...state.userDetails, cartWidgets : action.payload}}));\r\n\r\n});\r\n\r\n// export const userReducer = (state = { userData: initialState }, action:any) => {\r\n//     switch (action.type) {\r\n  \r\n//         case \"LOGIN_SUCCESS\":\r\n//             return { ...state, userData: [{...state.userData}, action.payload] };\r\n\r\n//         case \"LOGOUT\":\r\n//             return { userData: action.payload };\r\n\r\n//         case \"SET_USERNAME\":\r\n//             return { userData: action.payload };\r\n\r\n//         default:\r\n//             return state;\r\n//     }\r\n// };"],"mappings":"AAAA,SAASA,aAAT,QAA8B,kBAA9B;AACA,SAASC,cAAT,EAAyBC,aAAzB,EAAwCC,cAAxC,EAAwDC,mBAAxD,EAA6EC,cAA7E,QAAmG,cAAnG,C,CAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,IAAIC,MAAU,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB;AAGA,MAAMC,YAAY,GAAG;EACjBC,WAAW,EAAG;IACVC,UAAU,EAAE,KADF;IAEVC,WAAW,EAAE,EAFH;IAGVC,QAAQ,EAAEC,IAAI,CAACC,KAAL,CAAWT,MAAX,EAAmBO,QAHnB;IAIVG,SAAS,EAAE,EAJD;IAKVC,QAAQ,EAAE,EALA;IAMVC,WAAW,EAAE,EANH;IAOVC,gBAAgB,EAAE,EAPR;IAQVC,WAAW,EAAE;EARH;AADG,CAArB;AAcA,OAAO,MAAMC,WAAW,GAAGrB,aAAa,CAACS,YAAD,EAAgBa,OAAD,IAAa;EAEhEA,OAAO,CAACC,OAAR,CAAgBlB,cAAhB,EAAgC,CAACmB,KAAD,EAAQC,MAAR,MAAoB,EAAC,GAAGD,KAAJ;IAAWd,WAAW,EAAGe,MAAM,CAACC;EAAhC,CAApB,CAAhC;EAEAJ,OAAO,CAACC,OAAR,CAAgBrB,aAAhB,EAA+B,CAACsB,KAAD,EAAQC,MAAR,MAAoB,EAAC,GAAGD,KAAJ;IAAWd,WAAW,EAAG,EAAC,GAAGc,KAAK,CAACd,WAAV;MAAuBC,UAAU,EAAGc,MAAM,CAACC;IAA3C;EAAzB,CAApB,CAA/B;EAEAJ,OAAO,CAACC,OAAR,CAAgBpB,cAAhB,EAAgC,CAACqB,KAAD,EAAQC,MAAR,MAAoB,EAAC,GAAGD,KAAJ;IAAWd,WAAW,EAAG,EAAC,GAAGc,KAAK,CAACd,WAAV;MAAuBE,WAAW,EAAGa,MAAM,CAACC;IAA5C;EAAzB,CAApB,CAAhC;EAEAJ,OAAO,CAACC,OAAR,CAAgBnB,mBAAhB,EAAqC,CAACoB,KAAD,EAAQC,MAAR,MAAoB,EAAC,GAAGD,KAAJ;IAAWd,WAAW,EAAG,EAAC,GAAGc,KAAK,CAACd,WAAV;MAAuBS,gBAAgB,EAAGM,MAAM,CAACC;IAAjD;EAAzB,CAApB,CAArC;EAEAJ,OAAO,CAACC,OAAR,CAAgBtB,cAAhB,EAAgC,CAACuB,KAAD,EAAQC,MAAR,MAAoB,EAAC,GAAGD,KAAJ;IAAWd,WAAW,EAAG,EAAC,GAAGc,KAAK,CAACd,WAAV;MAAuBU,WAAW,EAAGK,MAAM,CAACC;IAA5C;EAAzB,CAApB,CAAhC;AAEH,CAZuC,CAAjC,C,CAcP;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA"},"metadata":{},"sourceType":"module"}