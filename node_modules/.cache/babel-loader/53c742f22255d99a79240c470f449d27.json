{"ast":null,"code":"import { setLoginErrMsg, setLoginStatus, setUserDetails } from '../redux/UserRedux/userAction';\nimport store from '../redux/store';\nimport axios from 'axios';\nexport const setUser = (username, password) => {\n  let obj = {\n    \"username\": username,\n    \"password\": password\n  };\n  store.dispatch(setUserDetails(obj));\n};\nexport const loginUser = () => {\n  return new Promise((res, rej) => {\n    store.dispatch(setLoginStatus(true));\n    localStorage.setItem(\"auth\", \"true\");\n  });\n};\n\nconst ValidateUser = (uname, pswd) => {\n  return new Promise((res, rej) => {\n    let body = {\n      \"username\": uname,\n      \"password\": pswd\n    };\n    axios.post(\"http://localhost:5000/user/login\", body).then(x => {\n      let isAuth = x.data.authenticated;\n\n      if (!isAuth) {\n        store.dispatch(setLoginErrMsg(x.data.errorMsg));\n        localStorage.setItem(\"auth\", \"false\");\n      } else {\n        window.location.href = \"/\";\n        localStorage.setItem(\"auth\", \"true\");\n        loginUser();\n      }\n    });\n  });\n};\n\n_c = ValidateUser;\nexport const logOutUser = () => {\n  store.dispatch(setLoginStatus(false));\n  window.location.href = \"login\";\n  localStorage.setItem(\"auth\", \"false\");\n};\n\nvar _c;\n\n$RefreshReg$(_c, \"ValidateUser\");","map":{"version":3,"names":["setLoginErrMsg","setLoginStatus","setUserDetails","store","axios","setUser","username","password","obj","dispatch","loginUser","Promise","res","rej","localStorage","setItem","ValidateUser","uname","pswd","body","post","then","x","isAuth","data","authenticated","errorMsg","window","location","href","logOutUser"],"sources":["D:/gaurav/engame2/my-app/src/Utils/userFunctions.tsx"],"sourcesContent":["import { setLoginErrMsg, setLoginStatus, setUserDetails } from '../redux/UserRedux/userAction';\r\nimport store from '../redux/store';\r\nimport axios from 'axios';\r\n\r\nexport const setUser = (username:any, password:any) => {\r\n    let obj = {\r\n        \"username\": username,\r\n        \"password\": password\r\n    }\r\n    store.dispatch(setUserDetails(obj));\r\n}\r\n\r\nexport const loginUser = () => {\r\n    return new Promise((res,rej) => {\r\n        store.dispatch(setLoginStatus(true));\r\n        localStorage.setItem(\"auth\", \"true\");\r\n    })\r\n};\r\n\r\nconst ValidateUser = (uname:any, pswd:any) => {\r\n    return new Promise((res,rej) => {\r\n        let body = {\r\n            \"username\": uname,\r\n            \"password\": pswd\r\n          }\r\n        axios.post(\"http://localhost:5000/user/login\", body)\r\n        .then((x:any) => {\r\n        let isAuth = x.data.authenticated;\r\n        if(!isAuth){\r\n            store.dispatch(setLoginErrMsg(x.data.errorMsg));\r\n            localStorage.setItem(\"auth\", \"false\");\r\n        }\r\n        else{\r\n            window.location.href = \"/\";\r\n            localStorage.setItem(\"auth\", \"true\");\r\n            loginUser();\r\n        }\r\n        });\r\n    })\r\n\r\n  }\r\n\r\nexport const logOutUser = () => {\r\n    store.dispatch(setLoginStatus(false));\r\n    window.location.href = \"login\";\r\n    localStorage.setItem(\"auth\", \"false\");\r\n};"],"mappings":"AAAA,SAASA,cAAT,EAAyBC,cAAzB,EAAyCC,cAAzC,QAA+D,+BAA/D;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,OAAO,GAAG,CAACC,QAAD,EAAeC,QAAf,KAAgC;EACnD,IAAIC,GAAG,GAAG;IACN,YAAYF,QADN;IAEN,YAAYC;EAFN,CAAV;EAIAJ,KAAK,CAACM,QAAN,CAAeP,cAAc,CAACM,GAAD,CAA7B;AACH,CANM;AAQP,OAAO,MAAME,SAAS,GAAG,MAAM;EAC3B,OAAO,IAAIC,OAAJ,CAAY,CAACC,GAAD,EAAKC,GAAL,KAAa;IAC5BV,KAAK,CAACM,QAAN,CAAeR,cAAc,CAAC,IAAD,CAA7B;IACAa,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B,MAA7B;EACH,CAHM,CAAP;AAIH,CALM;;AAOP,MAAMC,YAAY,GAAG,CAACC,KAAD,EAAYC,IAAZ,KAAyB;EAC1C,OAAO,IAAIP,OAAJ,CAAY,CAACC,GAAD,EAAKC,GAAL,KAAa;IAC5B,IAAIM,IAAI,GAAG;MACP,YAAYF,KADL;MAEP,YAAYC;IAFL,CAAX;IAIAd,KAAK,CAACgB,IAAN,CAAW,kCAAX,EAA+CD,IAA/C,EACCE,IADD,CACOC,CAAD,IAAW;MACjB,IAAIC,MAAM,GAAGD,CAAC,CAACE,IAAF,CAAOC,aAApB;;MACA,IAAG,CAACF,MAAJ,EAAW;QACPpB,KAAK,CAACM,QAAN,CAAeT,cAAc,CAACsB,CAAC,CAACE,IAAF,CAAOE,QAAR,CAA7B;QACAZ,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B,OAA7B;MACH,CAHD,MAII;QACAY,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAvB;QACAf,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B,MAA7B;QACAL,SAAS;MACZ;IACA,CAZD;EAaH,CAlBM,CAAP;AAoBD,CArBH;;KAAMM,Y;AAuBN,OAAO,MAAMc,UAAU,GAAG,MAAM;EAC5B3B,KAAK,CAACM,QAAN,CAAeR,cAAc,CAAC,KAAD,CAA7B;EACA0B,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,OAAvB;EACAf,YAAY,CAACC,OAAb,CAAqB,MAArB,EAA6B,OAA7B;AACH,CAJM"},"metadata":{},"sourceType":"module"}